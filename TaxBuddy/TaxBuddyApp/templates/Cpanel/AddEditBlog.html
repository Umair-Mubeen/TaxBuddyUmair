<html>
{% load static %}

{% include 'Cpanel/reusable.html' %}
<head>
<title>Create Blog </title>
</head>
<body class="sidebar-mini layout-fixed sidebar-collapse">

<div class="wrapper">

    {% include 'Cpanel/navbar.html' %}
    {% include 'Cpanel/sidebar.html' %}
    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">
        <!-- Content Header (Page header) -->
        <div class="content-header">
            <div class="container-fluid">
                <div class="row mb-2">
                    <div class="col-sm-6">
                        <h1 class="m-0">TaxBuddy Umair</h1>
                    </div><!-- /.col -->
                    <div class="col-sm-6">
                        <ol class="breadcrumb float-sm-right">
                            <li class="breadcrumb-item"><a href="/Dashboard" style="color:black"><i
                                    class="fa fa-home"></i></a>
                            </li>
                            <li class="breadcrumb-item active">
                                <a href="/ManageBlogs" style="color:black">
                                    Manage Blog </a>
                            </li>
                            <li class="breadcrumb-item">Create</li>

                        </ol>
                    </div><!-- /.col -->
                </div><!-- /.row -->
            </div><!-- /.container-fluid -->
        </div>
        <!-- /.content-header -->

        <!-- Main content -->
    <form action="{% if blog %}{% url 'AddEditBlog' blog.slug %}{% else %}{% url 'AddEditBlog' %}{% endif %}"
      method="POST"
      enctype="multipart/form-data">

    {% csrf_token %}

    {% if blog %}
        <input type="hidden" name="blog_id" value="{{ blog.id }}">
    {% endif %}

<section class="content">
<div class="container-fluid">
<div class="col-md-12">
<div class="card card-primary card-outline">

    <div class="card-header">
        <h3 class="card-title">
            {% if blog %} Update Blog {% else %} Create New Blog {% endif %}
        </h3>
    </div>

    <div class="card-body">

        <!-- TYPE -->
        <div class="form-group">
            <label>Type</label>
            <select class="form-control" name="type" required>
                <option value="article" {% if blog.type == "article" %}selected{% endif %}>Article</option>
                <option value="blog" {% if blog.type == "blog" %}selected{% endif %}>Blog</option>
                <option value="news" {% if blog.type == "news" %}selected{% endif %}>News</option>
                <option value="event" {% if blog.type == "event" %}selected{% endif %}>Event</option>
            </select>
        </div>

        <!-- TITLE -->
        <div class="form-group">
            <label>Title</label>
            <input class="form-control"
                   name="title"
                   placeholder="Blog Title"
                   value="{{ blog.title|default:'' }}"
                   required>
        </div>

        <!-- CONTENT -->
        <div class="form-group">
            <label>Content</label>
            <textarea class="form-control"
                      id="compose-textarea"
                      name="content"
                      rows="8"
                      required>{{ blog.content|default:'' }}</textarea>
        </div>

        <!-- IMAGE -->
        <div class="form-group">
            <label>Featured Image</label>
            <input class="form-control" name="featured_image" type="file">

            {% if blog.featured_image %}
                <br>
                <img src="{{ blog.featured_image.url }}" width="120">
            {% endif %}
        </div>

        <!-- STATUS -->
        <div class="form-group">
            <label>Status</label>
            <select class="form-control" name="status">
                <option value="draft" {% if blog.status == "draft" %}selected{% endif %}>Draft</option>
                <option value="published" {% if blog.status == "published" %}selected{% endif %}>Published</option>
                <option value="archived" {% if blog.status == "archived" %}selected{% endif %}>Archived</option>
            </select>
        </div>

        <!-- SEO -->
        <div class="form-group">
            <label>Meta Title</label>
            <input class="form-control"
                   name="meta_title"
                   value="{{ blog.meta_title|default:'' }}">
        </div>

        <div class="form-group">
            <label>Meta Description</label>
            <textarea class="form-control"
                      name="meta_description"
                      rows="3">{{ blog.meta_description|default:'' }}</textarea>
        </div>

    </div>

    <div class="card-footer">
        <div class="float-right">
            <button class="btn btn-primary" type="submit">
                Submit
            </button>
        </div>
        <button class="btn btn-default" type="reset">
            Discard
        </button>
    </div>

</div>
</div>
</div>
</section>

</form>


    </div>
    <!-- /.content-wrapper -->


</div>
<!-- /.content-wrapper -->


{% include 'Cpanel/footer.html' %}

</body>


<script>
    var hd_type = document.getElementById('hd_type').value; // Get the hidden input value
    $('#type').val(hd_type).trigger('change');


</script>
</html>